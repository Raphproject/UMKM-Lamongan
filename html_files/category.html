<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kategori - RSV UMKM</title>
    <style>
        /* Mengimpor Font */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

        /* Variabel Warna & Reset */
        :root {
            --primary-green: #16a34a;
            --light-green-bg: #f0fdf4;
            --border-color: #f0f0f0;
            --text-primary: #212529;
            --text-secondary: #6c757d;
        }

        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            background-color: #F8FAFC;
            color: var(--text-primary);
        }

        /* --- Layout Utama --- */
        .dashboard-container { display: flex; min-height: 100vh; }

        /* --- Sidebar --- */
        .sidebar {
            width: 260px;
            background-color: #fff;
            border-right: 1px solid var(--border-color);
            padding: 25px;
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }
        .sidebar .logo { font-size: 24px; font-weight: 700; color: var(--primary-green); margin-bottom: 40px; padding-left: 10px; }
        .sidebar .logo span { font-weight: 400; color: var(--text-primary); }
        .sidebar .nav-menu ul { list-style: none; padding: 0; margin: 0; }
        .sidebar .nav-menu li a { display: flex; align-items: center; padding: 14px 20px; margin-bottom: 10px; border-radius: 10px; text-decoration: none; color: var(--text-secondary); font-weight: 500; transition: color 0.3s; }
        .sidebar .nav-menu li a .icon { margin-right: 15px; width: 22px; height: 22px; fill: currentColor; }
        .sidebar .nav-menu li a:hover { color: var(--primary-green); }
        .sidebar .nav-menu li.active a { background-color: var(--primary-green); color: #fff; }

        /* --- Konten Utama (Kolom Kanan) --- */
        .main-content { flex-grow: 1; display: flex; flex-direction: column; }
        .category-header { display: flex; justify-content: space-between; align-items: center; padding: 20px 40px; background-color: #fff; border-bottom: 1px solid var(--border-color); flex-shrink: 0; }
        .category-header a { color: inherit; text-decoration: none; }
        .category-header .back-arrow { width: 24px; height: 24px; }
        .category-header .title { font-size: 22px; font-weight: 500; color: var(--primary-green); }
        .category-header .title span { font-weight: 700; color: var(--text-primary); }
        .category-header .help-icon { width: 28px; height: 28px; color: var(--primary-green); }

        /* Konten di dalam main area */
        .content-area { padding: 25px 40px; overflow-y: auto; flex-grow: 1; }
        .content-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }

        .content-title { font-size: 24px; font-weight: 600; margin: 0; }

        .category-nav { display: flex; gap: 5px; }
        .category-nav a {
            width: 30px; height: 30px; border-radius: 6px; display: flex; justify-content: center; align-items: center;
            font-size: 14px; font-weight: 500; color: #888; background-color: #f0f0f0; cursor: pointer; text-decoration: none;
        }
        .category-nav a.active { background-color: #333; color: #fff; }

        /* Grid Produk Kategori */
        .products-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 25px; }
        
        .products-grid a.product-card {
            text-decoration: none;
            color: inherit;
        }
        
        .product-card { 
            background-color: #fff; 
            border: 1px solid var(--border-color); 
            border-radius: 12px; 
            overflow: hidden; 
            position: relative; 
            transition: box-shadow 0.3s, transform 0.3s; 
            display: block;
        }
        .product-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.07); }

        .product-card .product-image {
            width: 100%;
            height: 150px;
            background-color: #f5f5f5;
        }
        .product-card .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-card .favorite-btn { position: absolute; top: 10px; right: 10px; background: rgba(255, 255, 255, 0.8); border: 1px solid var(--border-color); border-radius: 50%; width: 30px; height: 30px; cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 2; }
        .product-card .favorite-btn .icon { width: 18px; height: 18px; color: #555; }
        .product-card .product-info { padding: 15px; }
        .product-card .product-name { font-weight: 600; margin: 0 0 5px 0; font-size: 15px; }
        .product-card .product-price { font-size: 12px; color: var(--text-secondary); margin-bottom: 10px; }
        .product-card .product-location { display: flex; align-items: center; gap: 6px; font-size: 11px; color: #555; }
        .product-card .product-location .icon { width: 14px; height: 14px; flex-shrink: 0; }

        /* Tampilan Overview Kategori */
        .overview-categories-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 20px; }
        .category-card-link {
            background-color: #fff; border: 1px solid var(--border-color); border-radius: 12px; padding: 20px 10px;
            transition: box-shadow 0.3s, transform 0.3s; cursor: pointer; display: flex; flex-direction: column;
            justify-content: center; align-items: center; min-height: 100px; text-decoration: none; color: inherit;
        }
        .category-card-link:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.07); }
        .category-card-link .icon { width: 32px; height: 32px; color: var(--text-primary); margin-bottom: 12px; }
        .category-card-link .category-name { font-weight: 600; font-size: 14px; text-align: center; }

        .info-icon {
            margin-left: auto;
            font-size: 12px;
            font-weight: bold;
            color: var(--primary-green);
            background-color: #e0e0e0;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        .info-popup {
            display: none;
            position: absolute;
            left: 280px;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 15px;
            width: 250px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .info-popup h4 {
            margin-top: 0;
            font-size: 16px;
            font-weight: 600;
        }

        .info-popup p {
            font-size: 14px;
            color: #666;
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- ========== SIDEBAR ========== -->
        <aside class="sidebar">
            <a href="/" style="text-decoration: none;"><div class="logo">RSV<span>UMKM</span></div></a>
            <nav class="nav-menu">
                <ul>
                    <li id="dashboard-link">
                        <a href="dashboard.html">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M10.5,2H13.5V8H10.5V2M10.5,10H13.5V16H10.5V10M3.5,12H6.5V22H3.5V12M17.5,6H20.5V22H17.5V6Z"></path>
                            </svg>
                            <span>Dashboard</span>
                            <span class="info-icon" data-popup="dashboard-popup">?</span>
                        </a>
                    </li>
                    <div id="dashboard-popup" class="info-popup">
                        <h4>Dashboard UMKM</h4>
                        <p>Fitur ini memberikan gambaran umum tentang aktivitas UMKM, termasuk statistik, produk terlaris, dan notifikasi penting.</p>
                    </div>
                    <li class="active">
                        <a href="category.html">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M11 15.5H13V17.5H11V15.5M15 15.5H17V17.5H15V15.5M7 15.5H9V17.5H7V15.5M20 5H4V7H20V5M20 9H4V11H20V9M20 13H4V15.5C4 16.6 4.9 17.5 6 17.5H7V15.5C7 14.4 7.9 13.5 9 13.5H11V13H13V13.5H15V15.5H17C17 15.5 18.1 15.5 18 15.5C19.1 15.5 20 14.6 20 13.5V13M20 3H4C2.9 3 2 3.9 2 5V13.5C2 15.4 3.6 17 5.5 17H6V17.5C6 18.6 6.9 19.5 8 19.5H16C17.1 19.5 18 18.6 18 17.5V17H18.5C20.4 17 22 15.4 22 13.5V5C22 3.9 21.1 3 20 3Z"></path>
                            </svg>
                            <span>Categories</span>
                            <span class="info-icon" data-popup="categories-popup">?</span>
                        </a>
                    </li>
                    <div id="categories-popup" class="info-popup">
                        <h4>Kategori UMKM</h4>
                        <p>Fitur ini menampilkan berbagai kategori UMKM untuk memudahkan pengguna menemukan produk atau layanan yang sesuai.</p>
                    </div>
                    <li>
                        <a href="favorite.html">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"></path>
                            </svg>
                            <span>Favorites</span>
                            <span class="info-icon" data-popup="favorites-popup">?</span>
                        </a>
                    </li>
                    <div id="favorites-popup" class="info-popup">
                        <h4>Favorite UMKM</h4>
                        <p>Pengguna dapat menandai UMKM tertentu sebagai favorit agar lebih mudah diakses kembali.</p>
                    </div>
                    <li id="hotnews-link">
                        <a href="dashboard.html?view=hot-news">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M7,7V9H9V7H7M11,7V9H13V7H11M15,7V9H17V7H15M7,11V13H9V11H7M11,15V17H13V15H11M15,11V13H17V11H15Z" fill-opacity="0.3"></path>
                                <path d="M7,15V17H9V15H7M11,11V13H13V11H11M15,15V17H17V15H15Z"></path>
                            </svg>
                            <span>Hot News</span>
                            <span class="info-icon" data-popup="hotnews-popup">?</span>
                        </a>
                    </li>
                    <div id="hotnews-popup" class="info-popup">
                        <h4>Hot News UMKM</h4>
                        <p>Menampilkan berita, pengumuman, dan informasi terbaru seputar UMKM.</p>
                    </div>
                    <li>
                        <a href="massages.html">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z"></path>
                            </svg>
                            <span>Messages</span>
                            <span class="info-icon" data-popup="messages-popup">?</span>
                        </a>
                    </li>
                    <div id="messages-popup" class="info-popup">
                        <h4>Message UMKM</h4>
                        <p>Fitur pesan memungkinkan komunikasi antara pengguna dengan UMKM.</p>
                    </div>
                    <li>
                        <a href="setting.html">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M19.14,12.94C19.07,12.43 19,12.21 19,12C19,11.79 19.07,11.57 19.14,11.06L21.17,9.43C21.57,9.11 21.65,8.56 21.32,8.21L19.45,5.14C19.17,4.84 18.65,4.73 18.28,4.89L16,5.81C15.44,5.41 14.8,5.1 14.08,4.87L13.74,2.5C13.66,2.05 13.24,1.75 12.75,1.75H9.25C8.76,1.75 8.34,2.05 8.26,2.5L7.92,4.87C7.2,5.1 6.56,5.41 6,5.81L3.72,4.89C3.35,4.73 2.83,4.84 2.55,5.14L0.68,8.21C0.35,8.56 0.43,9.11 0.83,9.43L2.86,11.06C2.93,11.57 3,11.79 3,12C3,12.21 2.93,12.43 2.86,12.94L0.83,14.57C0.43,14.89 0.35,15.44 0.68,15.79L2.55,18.86C2.83,19.16 3.35,19.27 3.72,19.11L6,18.19C6.56,18.59 7.2,18.9 7.92,19.13L8.26,21.5C8.34,21.95 8.76,22.25 9.25,22.25H12.75C13.24,22.25 13.66,21.95 13.74,21.5L14.08,19.13C14.8,18.9 15.44,18.59 16,18.19L18.28,19.11C18.65,19.27 19.17,19.16 19.45,18.86L21.32,15.79C21.65,15.44 21.57,14.89 21.17,14.57L19.14,12.94M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5Z"></path>
                            </svg>
                            <span>Settings</span>
                            <span class="info-icon" data-popup="settings-popup">?</span>
                        </a>
                    </li>
                    <div id="settings-popup" class="info-popup">
                        <h4>Setting UMKM</h4>
                        <p>Pengguna dapat mengatur preferensi akun, notifikasi, bahasa, dan preferensi tampilan.</p>
                    </div>
                </ul>
            </nav>
        </aside>

        <!-- ========== MAIN CONTENT ========== -->
        <main class="main-content">
            <header class="category-header">
                <a href="dashboard.html"><svg class="back-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg></a>
                <div class="title">Kategori <span>UMKM</span></div>

            </header>

            <div class="content-area">
                <div id="product-view-container" style="display: none;">
                    <div class="content-header">
                        <h2 id="category-title" class="content-title"></h2>
                        <div id="category-nav" class="category-nav"></div>
                    </div>
                    <div id="product-grid" class="products-grid"></div>
                </div>
                <div id="category-overview-container" style="display: none;">
                    <div class="content-header"><h2 class="content-title">Categories UMKM</h2></div>
                    <div id="overview-grid" class="overview-categories-grid"></div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // === DATABASE SIMULASI ===
        const categoryNavLinks = ['food', 'drink', 'fashion', 'driver', 'creative', 'tech_repair'];
        const categoryDetails = {
            food: { name: 'FOOD', svg: `<svg class="icon" viewBox="0 0 24 24"><path d="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z"></path></svg>` },
            drink: { name: 'DRINK', svg: `<svg class="icon" viewBox="0 0 24 24"><path d="M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4A2,2 0 0,1 2,20V4A2,2 0 0,1 4,2M4,8V10H8V8H4M10,8V10H14V8H10M16,8V10H20V8H16Z"></path></svg>` },
            fashion: { name: 'FASHION', svg: `<svg class="icon" viewBox="0 0 24 24"><path d="M6,2L2,8L4,9L5,8.5V14H6V17H18V14H19V8.5L20,9L22,8L18,2H6M16,15H8V13H16V15Z"></path></svg>` },
            driver: { name: 'DRIVER', svg: `<svg class="icon" viewBox="0 0 24 24"><path d="M20,8H17V4H3C1.89,4 1,4.89 1,6V17H3A3,3 0 0,0 6,20A3,3 0 0,0 9,17H15A3,3 0 0,0 18,20A3,3 0 0,0 21,17H23V12L20,8M6,18.5A1.5,1.5 0 0,1 4.5,17A1.5,1.5 0 0,1 6,15.5A1.5,1.5 0 0,1 7.5,17A1.5,1.5 0 0,1 6,18.5M18,18.5A1.5,1.5 0 0,1 16.5,17A1.5,1.5 0 0,1 18,15.5A1.5,1.5 0 0,1 19.5,17A1.5,1.5 0 0,1 18,18.5M19.5,9.5L21.46,12H17V9.5H19.5Z"></path></svg>` },
            creative: { name: 'CREATIVE', svg: `<svg class="icon" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.13,5.12L18.88,8.87M3,17.25V21H6.75L17.81,9.94L14.06,6.19L3,17.25Z"></path></svg>` },
            tech_repair: { name: 'TECH REPAIR', svg: `<svg class="icon" viewBox="0 0 24 24"><path d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z"></path></svg>` },
        };

        const allProducts = {
            food: [
                { name: 'Nasi Pecel', price: 'Rp 6.000,-', location: 'Jl. Dokter Wahidin Sudiro Husodo No.11', image: 'https://alice.mxflower.eu.org/d/umkm/pecel/nasi%20pecel.png' },
                { name: 'Nasi Geprek', price: 'Rp 10.000,-', location: 'VCHF+58Q, Jetis, Kec. Lamongan', image: 'https://alice.mxflower.eu.org/d/umkm/geprek/nasi%20geprek.png' },
                { name: 'Mie Ayam', price: 'Rp 10.000,-', location: 'Jl. Andansari, Dapur, Tlogoanyar', image: 'https://alice.mxflower.eu.org/d/umkm/mie%20ayam/mie%20ayam.png' },
                { name: 'Pecel Lele', price: 'Rp 10.000,-', location: 'kantor PKP ri, pinggir utara, Jl. Soewoko No.27, Jetis', image: 'https://alice.mxflower.eu.org/d/umkm/pecel%20lele/pecel%20lele.png' },
                { name: 'Gado Gado', price: 'Rp 12.000,-', location: 'Pasar Tingkat Selatan, Jl. Kyai H. Hasyir', image: 'https://alice.mxflower.eu.org/d/umkm/gado%20gado/gado%20gado.png' },
                { name: 'Bakso', price: 'Rp 12.000,-', location: 'Jl. Sunan Kalijaga No.22, Kertoraharjo', image: 'https://alice.mxflower.eu.org/d/umkm/bakso/bakso.png' },
                { name: 'Soto Ayam', price: 'Rp 15.000,-', location: 'Jl. KH. Ahmad Dahlan, Jetis, Slog', image: 'https://alice.mxflower.eu.org/d/umkm/soto%20ayam/soto.png' },
                { name: 'Wingko Babat', price: 'Rp 20.000,-', location: 'Jl. Jaksa Agung Suprapto No.58, Kauman', image: 'https://alice.mxflower.eu.org/d/umkm/wingko/wingko.png' },
            ],
            drink: [

                { name: 'Es Cendol', price: 'Rp 5.000,-', location: 'Jl. Basuki Rahmat No.96, Sukorejo, Tumenggungan', image: 'https://alice.mxflower.eu.org/d/umkm/es%20cendol/es%20cendol.png' },
                { name: 'Es Buah', price: 'Rp 8.000,-', location: 'Jl. Sunan Drajat, Kauman, Sidoharjo, Kec. Lamongan', image: 'https://alice.mxflower.eu.org/d/umkm/es%20buah/es%20buah.png' },
            ],
            fashion: [], driver: [], creative: [], tech_repair: [],
        };

        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const categoryKey = urlParams.get('category');

            if (categoryKey) {
                document.getElementById('product-view-container').style.display = 'block';
                displayProductDetails(categoryKey);
            } else {
                document.getElementById('category-overview-container').style.display = 'block';
                displayCategoryOverview();
            }
        };

        function displayProductDetails(categoryKey) {
            const categoryData = allProducts[categoryKey];
            const categoryTitleEl = document.getElementById('category-title');
            const productGridEl = document.getElementById('product-grid');
            const categoryNavEl = document.getElementById('category-nav');

            const title = categoryKey.replace('_', ' ').replace(/\b\w/g, l => l.toUpperCase());
            categoryTitleEl.textContent = title;

            categoryNavEl.innerHTML = '';
            categoryNavLinks.forEach((key, index) => {
                const isActive = key === categoryKey ? 'active' : '';
                categoryNavEl.innerHTML += `<a href="category.html?category=${key}" class="page-number ${isActive}">${index + 1}</a>`;
            });

            productGridEl.innerHTML = '';
            if (categoryData && categoryData.length > 0) {
                
                // --- PERUBAHAN ADA DI SINI ---
                const urlMapping = {
                    "Wingko Babat": "wingko.html",
                    "Es Cendol": "dawet.html",
                    "Nasi Geprek": "warung-bu-ti.html", // <- Tautan untuk Geprek
                    "Nasi Pecel": "pecel.html"         // <- Tautan untuk Pecel
                };

                categoryData.forEach(product => {
                    let productUrl = urlMapping[product.name] || product.name.toLowerCase().replace(/ /g, '-') + '.html';
                    
                    let cardHTML;
                    if (!product.image) {
                         cardHTML = `<a href="${productUrl}" class="product-card">
                                        <div class="product-image" style="background-color: #f0f0f0; border: 2px dashed #ddd;"></div>
                                        <button class="favorite-btn" onclick="event.preventDefault(); alert('Favorit!');"><svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.5l1.318-1.182a4.5 4.5 0 116.364 6.364L12 21l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button>
                                        <div class="product-info" style="opacity: 0.5;">
                                            <h3 class="product-name">${product.name}</h3>
                                        </div>
                                     </a>`;
                    } else {
                        cardHTML = `<a href="${productUrl}" class="product-card">
                                        <div class="product-image"><img src="${product.image}" alt="${product.name}"></div>
                                        <button class="favorite-btn" onclick="event.preventDefault(); alert('Favorit!');"><svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.5l1.318-1.182a4.5 4.5 0 116.364 6.364L12 21l-7.682-7.682a4.5 4.5 0 010-6.364z"></path></svg></button>
                                        <div class="product-info">
                                            <h3 class="product-name">${product.name}</h3>
                                            <p class="product-price">${product.price}</p>
                                            <div class="product-location">
                                                <svg class="icon" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg>
                                                <span>${product.location}</span>
                                            </div>
                                        </div>
                                    </a>`;
                    }
                    productGridEl.innerHTML += cardHTML;
                });
            } else {
                productGridEl.innerHTML = `<p>Belum ada produk untuk kategori ini.</p>`;
            }
        }

        function displayCategoryOverview() {
            const overviewGridEl = document.getElementById('overview-grid');
            overviewGridEl.innerHTML = '';

            Object.keys(categoryDetails).forEach(key => {
                const details = categoryDetails[key];
                overviewGridEl.innerHTML += `
                    <a href="category.html?category=${key}" class="category-card-link">
                        ${details.svg}
                        <span class="category-name">${details.name}</span>
                    </a>
                `;
            });
        }
    </script>
    <script>
        // --- POPUP SCRIPT ---
        document.addEventListener('DOMContentLoaded', function () {
            const infoIcons = document.querySelectorAll('.info-icon');

            infoIcons.forEach(icon => {
                icon.addEventListener('click', function (event) {
                    event.preventDefault();
                    event.stopPropagation();
                    const popupId = this.dataset.popup;
                    const popup = document.getElementById(popupId);

                    // Hide all other popups
                    document.querySelectorAll('.info-popup').forEach(p => {
                        if (p.id !== popupId) {
                            p.style.display = 'none';
                        }
                    });

                    // Toggle the current popup
                    if (popup.style.display === 'block') {
                        popup.style.display = 'none';
                    } else {
                        popup.style.display = 'block';
                        const rect = icon.getBoundingClientRect();
                        popup.style.top = `${rect.top}px`;
                        popup.style.left = `${rect.right + 10}px`;
                    }
                });
            });

            // Close popups when clicking anywhere else
            window.addEventListener('click', function () {
                document.querySelectorAll('.info-popup').forEach(p => {
                    p.style.display = 'none';
                });
            });
        });
    </script>
</body>
</html>